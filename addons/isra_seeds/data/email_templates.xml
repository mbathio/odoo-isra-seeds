<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        
        <!-- Email alerte expiration -->
        <record id="email_template_lot_expiry" model="mail.template">
            <field name="name">Alerte Expiration Lot</field>
            <field name="model_id" ref="model_seed_lot"/>
            <field name="subject">üö® Alerte: Lot ${object.name} expire bient√¥t</field>
            <field name="body_html"><![CDATA[
                <div style="font-family: Arial, sans-serif;">
                    <h2>üåæ Alerte d'Expiration - ISRA Semences</h2>
                    
                    <p>Bonjour,</p>
                    
                    <div style="background: #fff3cd; padding: 15px; border-left: 4px solid #ffc107; margin: 20px 0;">
                        <strong>Le lot ${object.name} expire bient√¥t !</strong>
                        <ul>
                            <li><strong>Vari√©t√©:</strong> ${object.variety_id.name}</li>
                            <li><strong>Niveau:</strong> ${object.level}</li>
                            <li><strong>Quantit√©:</strong> ${object.quantity} kg</li>
                            <li><strong>Date d'expiration:</strong> ${object.expiry_date}</li>
                            <li><strong>Jours restants:</strong> ${(object.expiry_date - datetime.date.today()).days}</li>
                        </ul>
                    </div>
                    
                    <p><strong>Actions recommand√©es:</strong></p>
                    <ul>
                        <li>V√©rifier l'√©tat du lot</li>
                        <li>Programmer un contr√¥le qualit√© si n√©cessaire</li>
                        <li>Planifier l'utilisation avant expiration</li>
                    </ul>
                    
                    <p>Cordialement,<br/>
                    Syst√®me de Tra√ßabilit√© ISRA</p>
                </div>
            ]]></field>
        </record>
        
        <!-- Email √©chec contr√¥le qualit√© -->
        <record id="email_template_quality_failure" model="mail.template">
            <field name="name">√âchec Contr√¥le Qualit√©</field>
            <field name="model_id" ref="model_seed_quality_control"/>
            <field name="subject">‚ùå √âchec Contr√¥le Qualit√© - ${object.seed_lot_id.name}</field>
            <field name="body_html"><![CDATA[
                <div style="font-family: Arial, sans-serif;">
                    <h2>‚ùå √âchec Contr√¥le Qualit√© - ISRA Semences</h2>
                    
                    <div style="background: #f8d7da; padding: 15px; border-left: 4px solid #dc3545; margin: 20px 0;">
                        <strong>Le contr√¥le qualit√© ${object.name} a √©chou√©</strong>
                        <ul>
                            <li><strong>Lot:</strong> ${object.seed_lot_id.name}</li>
                            <li><strong>Vari√©t√©:</strong> ${object.seed_lot_id.variety_id.name}</li>
                            <li><strong>Date contr√¥le:</strong> ${object.control_date}</li>
                            <li><strong>Taux germination:</strong> ${object.germination_rate}%</li>
                            <li><strong>Puret√© vari√©tale:</strong> ${object.variety_purity}%</li>
                            <li><strong>Inspecteur:</strong> ${object.inspector_id.name}</li>
                        </ul>
                    </div>
                    
                    <p><strong>Actions requises:</strong></p>
                    <ul>
                        <li>Analyser les causes de l'√©chec</li>
                        <li>Mettre le lot en quarantaine</li>
                        <li>Programmer un nouveau contr√¥le si n√©cessaire</li>
                        <li>Informer le multiplicateur</li>
                    </ul>
                    
                    <p>Observations: ${object.observations or 'Aucune'}</p>
                </div>
            ]]></field>
        </record>
        
    </data>
</odoo>